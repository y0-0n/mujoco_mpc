<mujoco model="SMPL Track">
  <include file="../../common.xml"/>
  <include file="../scene_smpl_rig.xml" />
  <size memory="50M"/>

  <custom>
    <text name="task_transition" data="Walk" />
    <numeric name="sampling_representation" data="2" />
    <numeric name="agent_planner" data="2" />
    <numeric name="agent_horizon" data="0.5" />
    <numeric name="agent_timestep" data="0.00833" />
    <numeric name="sampling_spline_points" data="16" />
    <numeric name="sampling_exploration" data="0.15" />
    <numeric name="sampling_trajectories" data="32" />
    <numeric name="gradient_spline_points" data="5" />
    <numeric name="ilqg_num_rollouts" data="16" />
    <numeric name="ilqg_regularization_type" data="1" />
    <numeric name="ilqg_representation" data="2" />
  </custom>

  <default>
    <default class="mocap_site">
      <site type="sphere" size="0.027" rgba="0 0 1 1" group="3" material="target"/>
    </default>
  </default>

  <!-- <option timestep="0.005"/> -->

  <worldbody>
      <body name="mocap[root]" mocap="true">
          <site name="mocap[root]" class="mocap_site" />
      </body>
      <body name="mocap[spine2]" mocap="true">
          <site name="mocap[spine2]" class="mocap_site" />
      </body>
      <body name="mocap[head]" mocap="true">
          <site name="mocap[head]" class="mocap_site" />
      </body>
      <body name="mocap[left_shoulder]" mocap="true">
          <site name="mocap[left_shoulder]" class="mocap_site" />
      </body>
      <body name="mocap[right_shoulder]" mocap="true">
          <site name="mocap[right_shoulder]" class="mocap_site" />
      </body>
      <body name="mocap[left_elbow]" mocap="true">
          <site name="mocap[left_elbow]" class="mocap_site" />
      </body>
      <body name="mocap[right_elbow]" mocap="true">
          <site name="mocap[right_elbow]" class="mocap_site" />
      </body>
      <body name="mocap[left_wrist]" mocap="true">
          <site name="mocap[left_wrist]" class="mocap_site" />
      </body>
      <body name="mocap[right_wrist]" mocap="true">
          <site name="mocap[right_wrist]" class="mocap_site" />
      </body>
      <body name="mocap[left_pelvis]" mocap="true">
          <site name="mocap[left_pelvis]" class="mocap_site" />
      </body>
      <body name="mocap[right_pelvis]" mocap="true">
          <site name="mocap[right_pelvis]" class="mocap_site" />
      </body>
      <body name="mocap[left_knee]" mocap="true">
          <site name="mocap[left_knee]" class="mocap_site" />
      </body>
      <body name="mocap[right_knee]" mocap="true">
          <site name="mocap[right_knee]" class="mocap_site" />
      </body>
      <body name="mocap[left_ankle]" mocap="true">
          <site name="mocap[left_ankle]" class="mocap_site" />
      </body>
      <body name="mocap[right_ankle]" mocap="true">
          <site name="mocap[right_ankle]" class="mocap_site" />
      </body>
  </worldbody>

  <sensor>
    <!-- <user name="Joint Vel." dim="37" user="0 0.001 0.0 0.01" /> -->
    <user name="Control" dim="37" user="3 0.1 0 1.0 0.3" />

    <user name="Pos[avg]" dim="3" user="0 1.5 0.0 2.0" />
    <user name="Pos[root]" dim="3" user="0 1.5 0.0 2.0" />
    <user name="Pos[spine2]" dim="3" user="0 1.5 0.0 2.0" />
    <user name="Pos[head]" dim="3" user="0 1.5 0.0 2.0" />
    <user name="Pos[shoulder]" dim="6" user="0 1.5 0.0 2.0" />
    <user name="Pos[elbow]" dim="6" user="0 1.5 0.0 2.0" />
    <user name="Pos[wrist]" dim="6" user="0 1.5 0.0 2.0" />
    <user name="Pos[pelvis]" dim="6" user="0 1.5 0.0 2.0" />
    <user name="Pos[knee]" dim="6" user="0 1.5 0.0 2.0" />
    <user name="Pos[ankle]" dim="6" user="0 1.5 0.0 2.0" />
    <!-- <user name="QPos[avg]" dim="1" user="0 2.2 0.1 4.0" /> -->
    <user name="QPos" dim="37" user="0 2.2 0.1 4.0" />

    <!-- <user name="Vel[root]" dim="3" user="6 0.1 0 1.0 0.3" />
    <user name="Vel[head]" dim="3" user="6 0.0 0 1.0 0.3" />
    <user name="Vel[toe]" dim="6" user="6 0.1 0 1.0 0.3" />
    <user name="Vel[heel]" dim="6" user="6 0.1 0 1.0 0.3" />
    <user name="Vel[knee]" dim="6" user="6 0.1 0 1.0 0.3" />
    <user name="Vel[hand]" dim="6" user="6 0.1 0 1.0 0.3" />
    <user name="Vel[elbow]" dim="6" user="6 0.1 0 1.0 0.3" />
    <user name="Vel[shoulder]" dim="6" user="6 0.1 0 1.0 0.3" />
    <user name="Vel[hip]" dim="6" user="6 0.1 0 1.0 0.3" /> -->

    <!-- <framepos name="trace0" objtype="body" objname="torso"/> -->
    <jointpos name="joint_pos[root1]" joint="root1" />
    <jointpos name="joint_pos[root2]" joint="root2" />
    <jointpos name="joint_pos[root3]" joint="root3" />
    <jointpos name="joint_pos[spine1]" joint="spine1" />
    <jointpos name="joint_pos[spine2]" joint="spine2" />
    <jointpos name="joint_pos[spine3]" joint="spine3" />
    <jointpos name="joint_pos[head1]" joint="head1" />
    <jointpos name="joint_pos[head2]" joint="head2" />
    <jointpos name="joint_pos[head3]" joint="head3" />
    <jointpos name="joint_pos[l_shoulder1]" joint="l_shoulder1" />
    <jointpos name="joint_pos[l_shoulder2]" joint="l_shoulder2" />
    <jointpos name="joint_pos[l_shoulder3]" joint="l_shoulder3" />
    <jointpos name="joint_pos[l_elbow]" joint="l_elbow" />
    <jointpos name="joint_pos[l_wrist1]" joint="l_wrist1" />
    <jointpos name="joint_pos[l_wrist2]" joint="l_wrist2" />
    <jointpos name="joint_pos[l_wrist3]" joint="l_wrist3" />
    <jointpos name="joint_pos[r_shoulder1]" joint="r_shoulder1" />
    <jointpos name="joint_pos[r_shoulder2]" joint="r_shoulder2" />
    <jointpos name="joint_pos[r_shoulder3]" joint="r_shoulder3" />
    <jointpos name="joint_pos[r_elbow]" joint="r_elbow" />
    <jointpos name="joint_pos[r_wrist1]" joint="r_wrist1" />
    <jointpos name="joint_pos[r_wrist2]" joint="r_wrist2" />
    <jointpos name="joint_pos[r_wrist3]" joint="r_wrist3" />
    <jointpos name="joint_pos[l_pelvis1]" joint="l_pelvis1" />
    <jointpos name="joint_pos[l_pelvis2]" joint="l_pelvis2" />
    <jointpos name="joint_pos[l_pelvis3]" joint="l_pelvis3" />
    <jointpos name="joint_pos[l_knee]" joint="l_knee" />
    <jointpos name="joint_pos[l_ankle1]" joint="l_ankle1" />
    <jointpos name="joint_pos[l_ankle2]" joint="l_ankle2" />
    <jointpos name="joint_pos[l_ankle3]" joint="l_ankle3" />
    <jointpos name="joint_pos[r_pelvis1]" joint="r_pelvis1" />
    <jointpos name="joint_pos[r_pelvis2]" joint="r_pelvis2" />
    <jointpos name="joint_pos[r_pelvis3]" joint="r_pelvis3" />
    <jointpos name="joint_pos[r_knee]" joint="r_knee" />
    <jointpos name="joint_pos[r_ankle1]" joint="r_ankle1" />
    <jointpos name="joint_pos[r_ankle2]" joint="r_ankle2" />
    <jointpos name="joint_pos[r_ankle3]" joint="r_ankle3" />

    <framepos name="tracking_pos[root]" objtype="site" objname="tracking[root]" />
    <framepos name="tracking_pos[spine2]" objtype="site" objname="tracking[spine2]" />
    <framepos name="tracking_pos[head]" objtype="site" objname="tracking[head]" />
    <framepos name="tracking_pos[left_shoulder]" objtype="site" objname="tracking[left_shoulder]" />
    <framepos name="tracking_pos[left_elbow]" objtype="site" objname="tracking[left_elbow]" />
    <framepos name="tracking_pos[left_wrist]" objtype="site" objname="tracking[left_wrist]" />
    <framepos name="tracking_pos[right_shoulder]" objtype="site" objname="tracking[right_shoulder]" />
    <framepos name="tracking_pos[right_elbow]" objtype="site" objname="tracking[right_elbow]" />
    <framepos name="tracking_pos[right_wrist]" objtype="site" objname="tracking[right_wrist]" />
    <framepos name="tracking_pos[left_pelvis]" objtype="site" objname="tracking[left_pelvis]" />
    <framepos name="tracking_pos[left_knee]" objtype="site" objname="tracking[left_knee]" />
    <framepos name="tracking_pos[left_ankle]" objtype="site" objname="tracking[left_ankle]" />
    <framepos name="tracking_pos[right_pelvis]" objtype="site" objname="tracking[right_pelvis]" />
    <framepos name="tracking_pos[right_knee]" objtype="site" objname="tracking[right_knee]" />
    <framepos name="tracking_pos[right_ankle]" objtype="site" objname="tracking[right_ankle]" />

  </sensor>

  <include file="./keyframes/smpl_walk_cmu_v3.xml" />    <!-- walk -->
</mujoco>
